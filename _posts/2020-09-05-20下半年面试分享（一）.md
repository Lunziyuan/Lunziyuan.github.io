---
layout: post
title: 20下半年面试分享（一）
---

先简单的介绍一下自己，18年毕业至今正式工作两年多了，毕业后就一直在现在这家公司工作。小公司，人不多，我是目前项目组的唯一前端。项目前端部分主要包括：两个App(react-native)、两个网站（一个Vue单页，一个Vue Ssr服务端渲染网站）、两个node（一个用于第一个网站的套壳，一个用于第二个网站的ssr）。

最近因为公司出现了一些变故，让我不得不提前开始考虑换工作的计划，于是陆陆续续的投递了一波简历，想看看有没有合适的机会。这篇文章也想和大家分享一下找工作的全经过。周四、周五的下午把简历公开了，主动联系或者某boss上找上门的大概有30-40家公司吧，过半是外包，然后还有大部分是要了简历就没下文了，也有一些简历通过筛选的陆陆续续的约了面试。然后在昨晚9点左右的时间，突然收到了预约外的一家公司的电话面试，有点蒙。

### 电话一面

* * *

   
#### 第一个网站的node套壳详细说说
   项目一开时的时候没有考虑到后续SEO方面的需求，只是搭了一个简单的Vue单页，Vue单页很难根据不同的url做SEO。我们遇到的问题主要是，三方分享（facebook、whatsapp等）的时候，爬虫会抓取页面的元数据（meta标签）来提前告知用户你要分享的链接内容。因为爬虫的抓取是在页面js加载前，所以通过网站的js代码来修改元数据是行不通的。我们的解决方案就是，加一层node，node先获取到网站本来要渲染的html，然后添加修改我们想要的元数据，再返回给用户。这样一来爬虫获取到的就是我们修改过的html，缺点是用户打开看到内容的速度会变慢，因为中间多了一层node。第二个站点我们也是吸取了教训，直接用了更成熟的vue ssr服务端渲染。主要区别是，node不用根据url去获取渲染后的html，现在html是直接在node这边生成的。

* * *


#### 浏览器输入网址后的渲染过程
   我当时的回答是：解析html生成dom tree，解析style生成 css tree，然后二者结合，绘制出具体的页面。
   这个问题相关的文章很多，网上一搜一大堆，具体回答还是因人而异吧。
   

* * *


   
   
#### 做过哪些网站的前端优化
   图片懒加载、基础数据（像多语言）获取后存储到本地、ssr服务端渲染的首屏速度会更快
   现在想想还可以回答减少请求数、图片预加载
   
##### 图片懒加载是怎么实现的
  根据图片的位置和当前视图的位置做判断，先加载一个模糊图（图片裁剪），等图片出现在预期位置的时候，比如两屏内，再加载一个清晰图。获取节点的位置可以用原生的 [getBoundingClientRect](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect) 方法。


##### 基础数据存在本地后，怎么更新
  存的时候会同时存一个时间戳，下次打开根据时间戳获取差异。


##### ssr服务端渲染的首屏为什么会更快
   因为只需要加载首屏的资源。普通单页要加载整个网站的资源。


* * *

#### 简历里有些参与公司app脚手架的设计，主要有哪些内容
   react-native + dva, 加上页面，模型，组件的最佳实践，请求规范，代码规范，常用工具方法，组件库 等


* * *

#### dva数据流
   [这边贴一下标准答案，引自dva官方文档](https://dvajs.com/guide/concepts.html#%E6%95%B0%E6%8D%AE%E6%B5%81%E5%90%91)
   
  数据的改变发生通常是通过用户交互行为或者浏览器行为（如路由跳转等）触发的，当此类行为会改变数据的时候可以通过 `dispatch` 发起一个 action，如果是同步行为会直接通过 `Reducers` 改变 `State` ，如果是异步行为（副作用）会先触发 `Effects` 然后流向 `Reducers` 最终改变 `State`，所以在 dva 中，数据流向非常清晰简明，并且思路基本跟开源社区保持一致（也是来自于开源社区）。


* * *


#### 连两张表的sql怎么写
可能是看到我实习期有做过服务端才问的吧，直接答了不会，两年多没用真没底。本来以为这段经历会是加分项，但是好像并不是。
答案应该是用[join](https://www.w3school.com.cn/sql/sql_join.asp)
 
    


* * *



#####    大致就这么多，只是一次简单的电话面试，粗略的看一下你是否合适。后续的面试经历，会再写文章分享给大家，一起加油！
